<image src="img\gitandgithub logo.png" alt="Logo">

# Работа с Git и Github

## 1. Проверка наличий установленного Git

В терминале выполнить команду:

```
git --version
```

Если Git установлен, появится сообщение с версией Git иначе будет сообщение об ошибке.

## 2. Установка Git

Загружаем последнию версию с сайта
https://git-scm.com/downloads.  
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git

При первом использовании Git необходимо представиться. Для этого нужно ввести в терминале две команды:

```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```

## 4. Инициализация репозитория

В терминале выполнить команду:

```
 git init
```

В папке создается скрытая папка `.git`.

## 5. Отслеживание изменений в файлах

После создания файлов в каталоге Git необходимо добавить их в индекс для того что бы Git смог отслеживать изменения в файлах и папках каталога.  
Что бы узнать какие файлы добавлены в индекс нужно выполнить команду:

```
git status
```

После ввода команды в консоли отобразятся красным цветом файлы и папки которые не добавлены в индекс или зеленым цветов если они там есть.  
Для фиксации файлов выполните команду:

```
 git add <имена папок или файлов>.
```

Для фиксации всех файлов можно выполнить команду:

```
git add .
```

## 6. Фиксация (Сохранение) изменений в файлах

Для того что бы сохранить изменение в файлах выполните команду - `git commit` + дополнительные флаги: `-a` (сокращение команды `add`) , `-m ""`(Флаг сообщения).

1. вариант команды:

```
git commit -a -m "new folder"
```

2. вариант команды:

```
git commit -am "new folder"
```

## 7. Журнал изменений

Для просмотра журнала изминений выполните команду:

```
git log
```

Показывает полное описание в журнале

<image src="img/gitlog.png" alt="git log">

Так же журнал можно отобразить в упращенном виде при помощм дполнительного флага:

```
git log --oneline
```

<image src="img/gitlogoneline.png" alt="oneline">

Что бы выйти из журнала в консоли нужно нажать клавишу - `Q` .

Для графического отображение веток в журнале выполните команду:

```
git log --graph
```

## 8. Переключение между версиями файла

**Старые версии Git.**

1. вариант - Выполните команду:

```
git checkout <хэш-код коммита>
```

Вернуться к актуальному состоянию и продолжить работу:

```
git checkout master
```

**Новые версии Git.**

2. вариант - Выполните команду:

```
git switch + <хэш-код коммита>
```

Вернуться к актуальному состоянию и продолжить работу:

```
git switch -
```

## 9. Просмотр разницы между файлом и закоммиченным файлом

Выполните команду:

```
git diff
```

<image src="img/gitdiff.png" alt="gitdiff">

## 10. Ветки в Git

По умолчанию имя основной ветки в Git - **master** .

Что бы узнать какие ветки есть в репозитории выполните команду:

```
git branch
```

`*` - указывает на какой ветке мы находимся .

Для создание новой ветки выполните команду:

```
git branch <имя ветки>
```

Для создание новой ветки и сразу перехода на нее выполните команду:

**Старая версия Git**

1. вариант:

```
git checkout -b <имя ветки>
```

**Новая версия Git**

2. вариант:

```
git switch -c + <имя ветки>
```

Для перехода на другую ветку выполните команду:

**Старая версия Git**

1. вариант:

```
git checkout <имя ветки>
```

**Новая версия Git**

2. вариант:

```
git switch <имя ветки>
```

Для возврата в основную ветку выполните команду:

**Новая версия Git**

```
git switch -
```

**Старая версия Git**

```
git checkout master
```

Чтобы добавить изменение из другой ветки:

1. Перейдите в основную ветку с помощью команды:

**Новая версия Git**

```
git switch -
```

**Старая версия Git**

```
git checkout master
```

2. Выполните команду:

```
git merge <имя ветки>
```

Для удаление ветки выполните команду:

```
git branch -d <имя ветки>
```

Ограничение по удалению веток в Git:

1. Нельзя удалить ветку если вы вней находитесь .
2. Нельзя удалить не слитую ветку но вы можете сделать это принудительно с помощью команды:

```
git branch -D <имя ветки>
```

## 11. Конфликты слияния веток в Git

Конфликты возникают, когда два человека изменяют одни и те же строки в файле или один разработчик удаляет файл, который в это время изменяет другой разработчик. В таких случаях Git не может автоматически определить, какое изменение является правильным. Конфликты затрагивают только того разработчика, который выполняет слияние, остальная часть команды о конфликте не знает. Git помечает файл как конфликтующий и останавливает процесс слияния.

**Пример:**

<image src="img/git conflict.png" alt="gitdiff">

Самый простой способ разрешить конфликт — отредактировать конфликтующий файл или выбрать вариант как показан на картинке.

**После разрешения конфликта обязательно нужно сделать коммит!**

## 12. Файл gitignore (Файлы исключение которые не нужно добавлять в Git)

Для исключения файлов из системы Git необходимо:

1. Создать файл в репозитории - `.gitignore` .
2. Добавить в созданный файл имена , расширение файлов или папок, а так же шаблоны, которые не нужно отслеживать с помощью Git.

## 13. Работа с удаленными репозиториями (Github)

Для удаленной работы с репозиториями необходимо:

1. Пройти регистрацию на сайте [Github](https://github.com) .
2. Создать локальный репозиторий .
3. Создать удаленный репозиторий .
4. Свзять локальный репозиторий с удаленным .

Команды для работы с удаленным репозиторием:

1. Связывает удаленный репозиторий с локальным:

```
git remote add origin git@github.com:Artoym715/Test-1.git
```

`origin` - псевдоним удаленного репозитория  
`git@github.com:Artoym715/Test-1.git` - url адрес репозитория в сети

2. Переименовать ветку **master** в **main**:

```
git branch -M main
```

3. Отправить файлы в удаленный репозиторий:

```
git push -u origin main
```

4. Получить изменения с удаленного репозитория в локальный:

```
git pull
```

Это составная команда - получает данные и сливает их с локальной веткой

С помощью команды `git remote` мы также просматривали информацию об
этом удалённом репозитории, добавив после неё команду `show` и имя `origin`:
```
git remote show origin
```
Команда, с помощью которой вы можете вывести информацию о
путях к вашим удалённым репозиториям:
```
git remote -v
```
Вывод этой команды обычно выглядит следующим образом:

<image src="img/2.jpg" alt="gitremote-v">

При необходимости вы можете заменить репозиторий origin. Например,
поменять путь к этому репозиторию. Для этого сначала нужно удалить текущий
репозиторий:
```
git remote remove origin
```
И затем снова добавить новый удалённый репозиторий:
```
git remote add origin path
```
Вы также можете поменять путь к этому репозиторию, если захотите:
```
git remote set-url origin new-path
```
Кроме того, вы можете поменять пути для каждой из операций — fetch и
push — отдельно. Например, для операции push команда изменения пути будет
такой:
```
git remote set-url --push origin new-path
```
Система контроля версий Git также позволяет добавить к своему
локальному репозиторию несколько удалённых.

Вначале добавим к нашему репозиторию ещё
один удалённый:
```
git remote add vendor vendor-repo-path
```
После такого действия вы сможете отправлять изменения из своего
локального репозитория в какой-то один удалённый репозиторий или сразу в
оба. Для отправки изменений в каждый репозиторий отдельно вам нужно просто
выполнить последовательно две команды:
```
git push -u origin master
git push -u vendor master
```
При этом затянуть изменения из всех репозиториев в свой локальный
можно одной командой. Но это можно сделать только без слияния, потому что
возможны конфликты не только кода из удалённого репозитория и кодом из
локального, но и кодов из двух удалённых репозиториев между собой:
```
git fetch --all
```
После такого действия вы сможете просматривать затянутые изменения и
сравнивать удалённые ветки с ветками своего локального репозитория:
```
git log origin/master ^master
git log vendor/master ^master
```
При необходимости вы можете также вливать нужные вам изменения
командной `git merge`, например:
```
git merge origin/master
или
git merge vendor/master
```
Способ, который позволяет сделать так, чтобы
однократный `“git push”` отправлял изменения сразу в несколько репозиториев.

Для этого нужно придумать название некого виртуального репозитория,
который будет в себе содержать пути ко всем удалённым. Пусть он называется
`“all”`. Давайте добавим его тоже с таким же путём, как путь к нашему первому
репозиторию:
```
git remote add all path-1
```
Дальше вы можете добавить к этому репозиторию пути:
```
git remote set-url --add --push all path-1
git remote set-url --add --push all path-2
```
И теперь вы можете отправлять наши изменения сразу во все репозитории,
используя имя `all`:
```
git push all master
```

## 14. Pull request (Github)

1. Найти интересующий вас репозиторий в поиске на [Github](https://github.com) .
2. Нажимаем на кнопку - `Code` и копируем ссылку на репозиторий .
3. Выполняем команду:

```
git clone <адрес репозитория> <имя папки для репозитория>
```

Для предложение изминений в чужой репозиторий (`pull request`) необходимо:

1. Скопировать репозиторий себе в аккаунт на Github с помощью кнопки - `Fork` .
2. Нажимаем на кнопку - `Code` и копируем ссылку на репозиторий .
3. Выполняем команду:

```
git clone <адрес репозитория> <имя папки для репозитория>
```

4. Создаем новую ветку и переключаемся на нее.
5. Вносим изменение и фиксируем изменение.
6. Выполняем команду:

```
git push -u origin <имя ветки>
```

7. На сайте Github нажимаем на кнопку - `pull request` .

## 15. Синхронизация в ветках Git

```
git remote show origin
```
Эта команда позволяет просмотреть, какие локальные ветки связаны с
ветками удалённого репозитория и каков их статус. Эта команда выводит
информацию в следующем формате:

<image src="img/1.jpg" alt="gitremote">

В начале этого вывода написано `“* remote origin”`, что указывает на то, что
эта информация относится к состоянию локального репозитория относительно
удалённого репозитория `origin`. Далее указаны пути к этому репозиторию для
операций `fetch` и `push` и то, что основная ветка — `master`.

Затем идёт блок информации о состоянии веток. Вначале перечислены
удалённые ветки и информация о том, что они отслеживаются локальными
ветками (в примере выше — пометка `“tracked”`).

И в конце блока идёт конфигурация локальных веток для команды `git push`.
Здесь отображается информация о том, в какие удалённые ветки будет
отправляться информация из локальных и каков статус локальных веток. Статус
`“up to date”` говорит о том, что локальная и удалённая ветки синхронизированы.
Статус `“fast-forwardable”` сообщает нам о том, что в локальной ветке произошли
изменения и мы их можем отправить в удалённую ветку.

Здесь также может быть статус `“local out of date”`, который говорит о том,
что локальная ветка отстаёт от удалённой: в удалённом репозитории в этой ветке
произошли какие-то изменения, которых ещё нет локально.

Вы можете скачать все изменения из ветки удалённого репозитория в
локальный, но без обновления самой ветки обновлять не будем. Это делается при
помощи команды:

```
git fetch
```
После её выполнения вы можете посмотреть, какие изменения были
внесены в удалённую ветку, для этого можно воспользоваться командой `git log`, в
параметрах которой указав имена удалённой и локальной веток:

```
git log origin/1-issue ^1-issue
```
Такой вариант команды выведет те коммиты, которые отличают удалённую
ветку от локальной. Содержимое каждого такого коммита вы можете
просмотреть командой:

```
git diff hash
```
В данном случае, `hash` — это хэш коммита. Если вы захотите влить
удалённую ветку в свою локальную, вы можете выполнить уже известную вам
команду:

```
git pull
```
Эту команду также можно выполнять для отдельных веток, указав имя
удалённого репозитория и название нужной ветки:

```
git pull origin 1-issue
```
Таким образом, команда `git pull` затягивает изменения из удалённого
репозитория и сливает их с изменениями в локальном репозитории, в то время
как команда `git fetch` их просто затягивает, но слияния не производит.